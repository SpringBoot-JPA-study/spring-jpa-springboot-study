### 플러시(Flush)

# 플러시(Flush)란?
영속성 컨텍스트의 변경내용을 데이터베이스에 반영하는 작업

# 플러시가 발생하면?

- 변경을 감지한다.
- 수정된 엔티티를 쓰기 지연 SQL 저장소에 등록한다.
- 쓰기 지연 SQL 저장소에 있는 쿼리(등록, 수정, 삭제 쿼리)를 DB에 전송한다.

# 영속성 컨텍스트를 플러시하는 방법 3가지
- em.flush() : 직접 호출 -> 직접 사용하는 경우는 드물다. 테스트 시, 사용할 수도 있다.
- 트랜잭션 커밋 : 플러시 자동 호출
- JPQL 쿼리 실행 : 플러시 자동 호출 (JPQL 쿼리 실행 시, 플러시가 자동으로 호출됨!!)

# 플러시 주의할 점
- 영속성 컨텍스트를 비운다는 개념이 아니다
- 영속성 컨텍스트의 변경내용을 DB에 동기화하는 것을 플러시라고 한다.
- 트랜잭션이라는 작업단위가 중요하다! -> 커밋 직전에만, 동기화하면 된다.
