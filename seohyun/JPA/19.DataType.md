### JPA의 데이터 타입

# JPA의 데이터 타입 분류
- 엔티티 타입, 값 타입 2가지가 있다.
- ### 엔티티 타입
  - @Entity로 정의하는 객체
  - 데이터가 변해도 식별자로 지속해서 **추적이 가능**하다.
  - 예를 들어, 회원 엔티티의 키나 나이 값을 변경해도 식별자로 인식 가능하다.
- ### 값 타입
  - int, Integer, String 처럼 단순히 값으로 사용하는 자바 기본 타입이나 객체
  - 식별자가 없고, 값만 있으므로, 변경 시, **추적이 불가능**하다.
  - 예를 들어, 숫자 100을 200으로 변경하면, 완전히 다른 값으로 대체된다.

# 값 타입
- 값 타입에는 기본값 타입, 임베디드 타입, 컬렉션 값 타입 3가지로 나뉜다.
- ### 기본값 타입
  - 자바 기본 타입(int, double)
  - 래퍼 클래스(Integer, Long)
  - String
- ### 임베디드 타입(embedded type, 복합 값 타입)
- ### 컬렉션 값 타입(collection value type)

# 기본값 타입
- String name, int age 등을 기본값 타입이라고 한다.
- 생명주기를 엔티티에 의존한다. 예를 들어, 회원을 삭제하면, 이름, 나이 필드도 함께 삭제된다.
- 값 타입은 공유하면 안 된다. 예를 들어, 회원 이름 변경 시, 다른 회원의 이름이 함께 변경되면 안 된다.
- 참고로, 자바의 기본 타입은 절대 공유할 수 없다. 기본 타입은 항상 값을 복사한다.
  ```
  int a = 10;
  int b = a;
  a = 20;
  
  // a = 20
  // b = 10 : a의 값이 바뀐다고 해서, b 값이 바뀌는 것이 아님
  ```
- Integer와 같은 래퍼 클래스나, String 같은 특수한 클래스는, 레퍼런스를 긁어간다. 즉, 공유는 가능하다. 그러나, 변경이 불가능하다.
  ```
  Integer a = new Integer(10);
  Integer b = a;
  // a.setValue(20); <- 에러 뜸. 값을 애초에 변경 안됨.
  
  // a = 10
  // b = 10 : 매퍼 클래스의 경우, 공유는 가능하다. 그러나 변경을 아예 못 한다.
  ```
