### 1. Intro
# JPA (Java Persistence API)
JDBC -> MyBatis, JdBcTemplate -> JPA
JDBC 는 직접 수렵 채집, MyBatis, JdBcTemplate 는 가축을 이용하여, 먹고 살았다면, JPA 는 트랙터로 그냥 밀어버리는 수준. 자동화 가능.
이전에 vanilla php 에서 개발하다가, 쿼리문 직접 작성하느라, 3 시간 넘게 썼던 것을 기억하면, 아주 끔찍하다.

# JPA 사용하면, 개발 시간을 단축시켜준다?
No, 작은 프로젝트에서는 그럴 수 있다. 
그러나, 실무에서는 수십 개 이상의 복잡한 객체와 테이블을 사용한다. 
이런 경우, **제대로된 객체와 테이블이 설계** 가 되어 있지 않은 상태에서, JPA를 사용하면, 오히려, 개발 시간이 더뎌질 수 도 있다. 
즉, JPA 에서의 핵심은, 바로 **제대로된 객체와 테이블이 설계** 이다.

# 해당 강의에서의 목표
1. 객체와 테이블을 제대로 설계하고 매핑하는 방법
2. 기본 키와 외래 키 매핑
3. 1:N, N:1, 1:1, N:M 매핑
4. 실무 노하우 + 성능까지 고려
5. 어떠한 복잡한 시스템도 JPA로 설계 가능
6. **(중요) JPA 내부 동작 방식 이해**
    - JPA의 내부 동작 방식을 이해하지 못하고 사용
    - JPA 내부 동작 방식을 그림과 코드로 자세히 설명
    - JPA가 어떤 SQL을 만들어내는지 이해
    - JPA가 언제 SQL을 실행하는지 이해

<hr>

# 애플리케이션은 객체지향 언어,
# 데이터베이스는 관계형 DB
<hr>

**(전반적으로) 그렇기 때문에,**

-> 객체를 관계형 DB에 보관해야 한다.

-> SQL 에 의존적인 개발을 피할 수 없다.

# 객체와 관계형 데이터베이스의 차이
1. 상속
    - 객체에서 상속을 DB 테이블에서는 어떻게 구현해야 할까?
    - 부모 : Item / 자식 : Album, Movie, Book 인 객체 상속 관계를 DB 에 테이블을 분리한다?
    - Album의 row 하나를 CRUD 를 할 때 마다 Item 테이블, Album 테이블 두 개를 계속 건드려야 한다.
    - 생각만해도 끔찍하다. 특히, select, update하는 경우, 기본 쿼리문이 join 을 써야 한다.
    - 이후, 요구사항이 복잡해지며, order by, group by ... 등이 추가되면?
2. 연관관계
    - DB에서의 PK, FK를 객체 세상에서는 어떻게 구현해야 할까?
    - insert 할 때, FK 로 연결된 다른 테이블에 insert 가 되지 않았는데, FK 로 연결된 객체의 id가 객체에 set 될 수 없다.
3. 데이터 타입
    - 객체는 자유롭게 객체 그래프를 탐색할 수 있어야 한다.
    - member 의 order 에서 order 의 정보들을 모두 가져올 수 있어야 한다.
    - member. getOrder.getId ?? 와 같이 정보들을 가져올 수 있어야 한다.
    - 객체 세상에서는 가능하지만, DB 세계에서는 힘들다.
    - 즉, 진정한 의미이 **계층 분할**이 어렵다.
4. 데이터 식별 방법
    - DB 에서는, memberId 가 같으면, 같은 member 이다.
    - 하지만 객체 세상에서는 다른 인스턴스이다.
      ```
       String memberId = "1";
      Member member1 = memberDAO.getMember(memberId);
      Member member2 = memberDAO.getMember(memberId);
      
      member1 == member2; // false, 다름
      ```

# 객체를 자바 컬렉션에 저장하듯이, DB 에 저장할 수는 없을까?
# -> JPA
<hr>

##### 객체 세상 - RDS 에서의 괴리감, 차이는 인지했다. 그런데, 그 대안으로 자바 컬렉션의 기능들이 나오는 부분이 아직 이해가 가지 않는다. JPA 를 공부하며, 자바 컬렉션 자료 구조에 대한 공부가 필요할 듯 하다.

<hr>

##### 안드로이드에서 사용했던, DTO 개념이 떠올랐다. 그리고 그와 비슷하게 회사에서 PHP 를 사용할 때, 사용해보려고 시도했던 기억이 난다. 그리고 그 시도가 JPA 가 나타난 배경과 유사한 것 같다. 객체의 상속관계, DB의 PK/FK, 계층 분할 등의 이슈들을 JPA 가 어떻게 해결하는지 궁금하고, 기대된다. 
