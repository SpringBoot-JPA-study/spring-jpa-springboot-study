# 일대다(1:N)

<img src="https://user-images.githubusercontent.com/48792230/215365377-e76f64a1-a265-46f9-b035-e62a158a852a.jpg" width="600"/>

## 특징

- 일대다 단방향은 1쪽이 연관관계의 주인
- 테이블 연관관계는 일대다와 다대일이 차이가 없음
    - 항상 n쪽에 외래키가 있음
- 객체와 테이블의 차이 때문에 반대편 테이블의 외래키를 관리하는 구조
- @JoinColumn을 꼭 사용해야 함.
    - @JoinColumn(name=”컬럼명”)
    - @JoinColumn을 안넣으면 조인 테이블 방식이 사용됨(jpa가 자동으로 중간 테이블을 생성함)
    

## 단점

- 엔티티가 관리하는 외래키가 다른 테이블에 있기 때문에 헷갈릴 수 있음
- 연관관계 관리를 위해 추가로 update SQL을 작성해야 함
    - 성능상으로 크게 이슈는 없긴 하지만 아무튼 헷갈림

## 일대다 양방향?

- 사실 jpa 스펙 상 지원하는 기능은 아님
- 야매로 개발자가 작성하는 것
    - 읽기 전용 필드를 사용
    - @JoinColumn(insertable= false, updatable = false)
- 자주 사용하진 않지만 가끔 복잡한 실무를 하다보면 한번 쯤 쓰일 때가 있음

**⇒ 일대다 단방향 매핑 < 다대일 단방향(+양방향) 매핑을 사용하자!**
