# μ¤ν”„λ§ λΉκ³Ό λ“±λ΅ λ°©λ²•

## **λΉ(Bean)**

> μ¤ν”„λ§ IoC μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•λ” μλ°” κ°μ²΄λ¥Ό μλ―Έ
> 
- μ¤ν”„λ§μ—μ„Β POJO(PlainΒ Old Java Object)λ¥Ό beansλΌκ³  λ¶€λ¥Έλ‹¤.
    
<br>    

## IoCμ»¨ν…μ΄λ„μ— λΉμ„ λ“±λ΅ν•λ” λ°©λ²• 2κ°€μ§€

1. ****μ–΄λ…Έν…μ΄μ…(Annotation)μ„ μ‚¬μ©ν•λ” λ°©λ²• (μ»΄ν¬λ„νΈ μ¤μΊ”)****
    - `@Component`κ°€ λ“±λ΅λμ–΄ μλ” κ²½μ°μ—λ” μ¤ν”„λ§μ΄ ν™•μΈν•μ—¬ λΉμΌλ΅ λ“±λ΅μ‹ν‚¨λ‹¤.
    - μ¤ν…λ μ¤ νƒ€μ…(stereotype)μΈ `@Controller` (+`@RestController`), `@Service`, `@Repository`μ™€ κ°™μ€ μ–΄λ…Έν…μ΄μ…λ“¤λ„Β **μλ™μΌλ΅ μ¤μΊ”**
    ν•μ—¬ λΉμ— λ“±λ΅λλ‹¤.
    - λ‹¨μ  ) λ‚μ¤‘μ— κµμ²΄κ°€ ν•„μ”ν• κ²½μ° μ»΄ν¬λ„νΈ μ¤μΊ”μ„ μ‚¬μ©ν•λ©΄ μ—¬λ¬ νμΌμ„ λ³€κ²½ν•΄μ•Όν•λ” λ²κ±°λ΅μ›€μ΄ μμ
2. ****λΉ μ„¤μ • νμΌμ— μ§μ ‘ λ“±λ΅ν•λ” λ°©λ²•****
    - **@Configuration**κ³ΌΒ **@Bean** μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ© (@Service, @Repository λ€μ‹ )
        
        ```java
        @Configuration
        public class SpringConfig {
        
            @Bean
            public MemberService memberService() {
                return new MemberService(memberRepository());
            }
        
            @Bean
            public MemberRepository memberRepository() {
                return new MemoryMemberRepository();
            }
        }
        ```
        
        - **μ¤ν”„λ§μ κ²½μ° @Component μ¤μΊ”μ„ ν†µν•΄ μλ™μΌλ΅ λΉ λ“±λ΅μ„ ν•λ” λ°©μ‹μ„Β κ¶μ¥**
            - **Spring ν™κ²½**
            
            Main App ν΄λμ¤μ—μ„ `@ComponentScan` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄μ„ λ“±λ΅ν•΄μ•Ό ν•¨
            
            - **Springboot ν™κ²½**
            
            λ””ν΄νΈλ΅ μ΅΄μ¬ν•λ” `@SpringBootApplication`μ— `@ComponentScan`μ–΄λ…Έν…μ΄μ…μ΄ ν¬ν•¨λμ–΄μμ
            
        - μ£Όμ : @Autowired λ¥Ό ν†µν• DIλ” μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•μ§€ μ•κ³  λ‚΄κ°€ μ§μ ‘ μƒμ„±ν• κ°μ²΄μ—μ„λ” λ™μ‘ν•μ§€ μ•μ
    
<br>    

### λ‘ λ‹¤ μ•μ•„μ•Ό λ κΉ? β‡’ yes
π’΅ μ‹¤λ¬΄μ—μ„λ” μ£Όλ΅ μ •ν•ν™”λ μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬ κ°™μ€ μ½”λ“λ” `μ»΄ν¬λ„νΈ μ¤μΊ”`μ„ μ‚¬μ©ν•λ‹¤.
κ·Έλ¦¬κ³  μ •ν•ν™” λμ§€ μ•κ±°λ‚, μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ©΄ μ„¤μ •μ„ ν†µν•΄ `μ¤ν”„λ§ λΉ`μΌλ΅ λ“±λ΅ν•λ‹¤

- β€**μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤**β€™?
    - μ•„μ§ λ°μ΄ν„° μ €μ¥μ†κ°€ μ„ μ •λμ§€ μ•μ•κ±°λ‚ νΉμ€ κµμ²΄κ°€ ν•„μ”ν• κ²½μ°, κΈ°μ΅΄μ— μ‘μ„±ν–λ μ½”λ“λ¥Ό ν•λ‚λ„ μ†λ€μ§€ μ•κ³  λ°”κΏ”μΉκΈ° ν•λ” κ²½μ°
    - ex) μ„μ μ½”λ“μ—μ„ λ§μ•½ MemoryMemberRepositoryλ¥Ό DBMemberRepositoryλ΅ κµμ²΄ν•λ” κ²½μ°λΌλ©΄?
        
        ```java
        @Configuration
        public class SpringConfig {
        
            @Bean
            public MemberService memberService() {
                return new MemberService(memberRepository());
            }
        
            /* @Bean μ΄μ „ μ½”λ“
            public MemberRepository memberRepository() {
                return new MemoryMemberRepository();
            }*/
        
            @Bean //κµμ²΄ν• μ½”λ“
            public MemberRepository memberRepository() {
                return new DBMemberRepository();
            }
        }
        ```
        
    - memberServiceμ μ½”λ“λ” ν•λ‚λ„ μ† λ ν•„μ” μ—†μ΄ configνμΌλ§ λ³€κ²½ν•λ©΄ λ¨
