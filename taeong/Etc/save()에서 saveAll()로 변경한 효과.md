# save() → saveAll()로 변경한 효과

1. **반복문 내부에서 save()를 여러 번 호출했을 경우**
    - 원래 코드에서는 for문에서 JPA repository의 save 함수를 사용하여 객체를 하나씩 저장했기 때문에, 객체마다 데이터베이스와의 통신이 이루어졌습니다. 이로 인해 데이터베이스와의 통신 횟수가 많아져서 성능 저하의 원인이 될 수 있습니다.
        
        
2. **저장할 엔티티를 리스트로 만든 후 saveAll() 한 번 수행한 경우**
    - 반면에, saveAll 함수를 사용하여 객체 리스트를 변경한 후, 한 번에 저장하면 데이터베이스와의 통신 횟수를 줄일 수 있습니다. 이를 통해 성능을 향상시킬 수 있습니다.
      
        
3. **쓰기 지연 SQL 저장소와 관련해서 차이점 설명**
    - 이 차이점을 쓰기 지연 SQL 저장소와 관련해서 설명하면, saveAll 함수는 객체 리스트를 일괄적으로 저장하기 때문에, 쓰기 지연 SQL 저장소에서 먼저 모든 객체를 저장한 후, 한 번에 데이터베이스에 저장합니다. 이를 통해 쓰기 지연 SQL 저장소의 장점을 최대한 활용할 수 있습니다. 따라서, saveAll 함수를 사용하면 쓰기 지연 SQL 저장소의 성능을 높일 수 있습니다.
4.  **saveAll 함수를 쓸 때 insert문을 한 번만 실행시키게 하려면 batch size를 변경해야한다.**
    - 기본값으로 Hibernate에서는 JDBC Statement에서 일괄 처리할 수 있는 최대 데이터 수를 30으로 설정하고 있습니다. 그러므로, saveAll 함수를 사용할 때 insert 쿼리를 한 번만 실행시키기 위해서는 Batch Size를 적절한 값으로 조정해주어야 합니다.
    - Batch Size를 크게 설정하면, insert 쿼리 실행 횟수를 줄일 수 있지만, 메모리 사용량이 증가할 수 있습니다. 반대로, Batch Size를 작게 설정하면, 메모리 사용량을 줄일 수 있지만 insert 쿼리 실행 횟수가 증가하여 성능이 저하될 수 있습니다. 따라서, 적절한 Batch Size를 설정하는 것이 중요합니다.
