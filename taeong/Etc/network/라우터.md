# 라우터

## **1. 네트워크 계층**

### **1) 네트워크 계층 특징**

- IP주소 기반으로 경로를 찾아주는 계층
- 라우터를 통해 이동할 경로를 선택하여 IP 주소를 지정하고, 해당 경로에 따라 패킷을 전달
- 라우팅, 흐름 제어, 오류 제어, 세그멘테이션 등을 수행
- 단위 : Datagram, Packet
- 프로토콜 : IP, RIP, ARP, ICMP
- 장비 : Router(L3 Switch)

### **2) 네트워크 계층 핵심 기능 2가지**

1. **포워딩(forwarding)**: 라우터 입력 포트에 도착한 패킷을 해당 라우터의 적절한 출력 포트로 이동시키는 것
2. **라우팅(routing)** : 패킷 단위로 출발지부터 목적지까지 경로를 결정
   - 라우팅에서는 최단거리인 경로를 찾는 알고리즘을 사용

<br>

## 2. 라우터

### 1) 라우터의 역할

- 서로 다른 네트워크를 연결해주는 역할
- 데이터를 정확하고 빠르게 전송해주는 역할

### 2) 라우터의 핵심 기능 2가지

1. **경로 설정(Path Determine)** : 데이터 패킷이 목적지까지 갈 수 있는 길을 검사하고 어떤 길로 가는 것이 가장 적합한지 결정
2. **스위칭(Switching)** : 경로설정이 완료되면 목적지까지 데이터 패킷을 스위칭해주는 것

### 3) 라우팅 프로토콜의 목적

- 네트워크상의 라우터를 경유하여 출발지에서 목적지까지 갈 수 있는 최적의 경로를 결정하는 것

<br>

## 3. **라우팅 알고리즘**

### 1) 라우팅의 유형

💡 라우팅 유형을 분류할 때 두 가지 기준이 있음

1. *중앙집중적인가, 분산적인가?*
   - **중앙집중형 라우팅** : 모든 라우터는 토폴로지, 링크 비용 등의 완벽한 정보를 상호 공유함
   - **분산형 라우팅** : 물리적으로 연결된 이웃 라우터끼리 연결 링크 정보 등을 공유함
      - 이웃 라우터와의 경로 계산, 정보 교환 등의 절차를 반복함
2. *정적인가, 동적인가?*
   - **정적 라우팅** : 시간이 지나도 경로가 변경되지 않는 경우 / 또는 천천히 변경되는 경우
   - **동적 라우팅** : 시간이 지나면서 경로가 급격히 변경되는 경우
      - 주기적으로 업데이트가 필요함
      - 링크 비용 변경에 대응해야함

### 2) 라우팅 프로토콜의 종류

💡 *링크 상태 알고리즘과 거리 벡터 알고리즘은 각각 중앙집중형 라우팅, 분산형 라우팅의 대표적인 알고리즘*

1. **링크 상태 (Link State)**
- 중앙집중형 라우팅
- 다익스트라(Dijkstra) 알고리즘
   - 모든 라우터(노드)가 모든 링크(간선)의 비용을 알고 있기 때문에 다익스트라 알고리즘을 이용해 최적의 경로를 계산할 수 있다. 한 노드(source node)에서 다른 모든 노드까지의 최적경로를 계산해 routing table에 저장해 놓는다.

1. **거리 벡터**
- 분산형 라우팅
- 벨만 포드(Bellman-Ford Algorithm) 알고리즘
   - 각 노드는 자신에게 연결된 이웃의 링크의 비용만 알고 있기 때문에 벨만-포드 알고리즘을 이용해 최적의 경로를 계산할 수 있다. 이웃끼리 반복해서 정보를 교환해 최적의 경로를 갱신하는 식이다.
- 교환되는 정보가 거리 정보 뿐이기 때문에 단순하고 다루기 쉽지만 장애 등의 원인을 알아내기 어렵다는 문제가 있음
- 네트워크 구조가 커지면 전달량이 많고 지연이 커짐

| LS 알고리즘 | DV 알고리즘 |
| --- | --- |
| 네트워크 전체 인식 | 이웃한 라우터의 정보 인식 |
| 다익스트라 알고리즘 | 벨만-포드 알고리즘 |
| 링크 상태 정보만을 교환 | 이웃한 라우터와 라우팅 테이블 교환 |
| 이벤트 기반의 갱신 신호 교환 | 주기적으로 갱신 데이터를 교환 |

<br>

## 4. **포워딩 테이블의 구조**

![img1.daumcdn.png](https://user-images.githubusercontent.com/48792230/221342588-ae898360-1d76-41f8-a8a3-33894c7de224.png)

<br>

## 📌 면접 대비 질문

- 라우터란 무엇이며, 어떤 기능을 수행하나요?
- 라우팅과 포워딩의 차이는 무엇인가요?
- 라우팅 알고리즘에는 어떤 것이 있으며, 각각 어떤 특징이 있나요?
- 포워딩 테이블이란 무엇이며, 어떤 구조를 가지고 있나요?
